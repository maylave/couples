(function(){"use strict";var e={9891:function(e,t,n){var a=n(3751),o=n(641),s=n(33);const r={class:"theme-toggle"},l={class:"navigation"},i=["onClick"],u={class:"components-container"};function c(e,t,n,c,d,m){return(0,o.uX)(),(0,o.CE)("div",{id:"app",class:(0,s.C4)({"dark-mode":d.isDarkMode})},[(0,o.Lk)("div",r,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>m.toggleTheme&&m.toggleTheme(...e)),class:"theme-button"},(0,s.v_)(d.isDarkMode?"‚òÄÔ∏è":"üåô"),1)]),(0,o.Lk)("nav",l,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(d.availableComponents,((e,t)=>((0,o.uX)(),(0,o.CE)("button",{key:t,onClick:e=>m.toggleComponent(t),class:(0,s.C4)({active:d.activeComponents.includes(t)})},(0,s.v_)(e.title),11,i)))),128))]),(0,o.Lk)("div",u,[(0,o.bF)(a.F,{name:"component-fade"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(d.activeComponents,(e=>((0,o.uX)(),(0,o.Wv)((0,o.$y)(d.availableComponents[e].component),{key:e,class:"component-item"})))),128))])),_:1})])],2)}n(4114);var d=n(4367),m=n(2228),h=n(1552),p=n(5169),k=n(7533),v={name:"App",components:{Schedule:d["default"],Grades:m["default"],Homework:h["default"],AdminPanel:p["default"],ManageLesson:k["default"]},data(){return{activeComponents:[],availableComponents:{schedule:{component:"Schedule",title:"–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ"},grades:{component:"Grades",title:"–û—Ü–µ–Ω–∫–∏"},homework:{component:"Homework",title:"–î–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è"},admin:{component:"AdminPanel",title:"–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å"},manageLesson:{component:"ManageLesson",title:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Ä–æ–∫–∞–º–∏"}},isDarkMode:!1}},methods:{toggleComponent(e){const t=this.activeComponents.indexOf(e);-1===t?this.activeComponents.push(e):this.activeComponents.splice(t,1)},checkDarkMode(){const e=(new Date).getHours();e>=17||e<6?(this.isDarkMode=!0,document.documentElement.classList.add("dark-mode")):(this.isDarkMode=!1,document.documentElement.classList.remove("dark-mode"))},toggleTheme(){this.isDarkMode=!this.isDarkMode,localStorage.setItem("darkMode",this.isDarkMode),this.isDarkMode?document.documentElement.classList.add("dark-mode"):document.documentElement.classList.remove("dark-mode")}},mounted(){const e=localStorage.getItem("darkMode");null!==e?(this.isDarkMode="true"===e,this.isDarkMode&&document.documentElement.classList.add("dark-mode")):this.checkDarkMode(),setInterval(this.checkDarkMode,6e4)}},g=n(6262);const f=(0,g.A)(v,[["render",c]]);var L=f,b=n(7122);const C={class:"login-container"},w={class:"form-group"},D={class:"form-group"},y={key:0,class:"error-message"};function _(e,t,n,r,l,i){return(0,o.uX)(),(0,o.CE)("div",C,[(0,o.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>i.handleSubmit&&i.handleSubmit(...e)),["prevent"])),class:"login-form"},[t[7]||(t[7]=(0,o.Lk)("h1",null,"–í—Ö–æ–¥",-1)),(0,o.Lk)("div",w,[(0,o.bo)((0,o.Lk)("input",{type:"text",placeholder:"–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>l.username=e),required:""},null,512),[[a.Jo,l.username]]),t[3]||(t[3]=(0,o.Lk)("label",{for:"username"},"–õ–æ–≥–∏–Ω",-1)),t[4]||(t[4]=(0,o.Lk)("i",{class:"material-icons icon"},"mail",-1))]),(0,o.Lk)("div",D,[(0,o.bo)((0,o.Lk)("input",{type:"password",placeholder:"–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),required:""},null,512),[[a.Jo,l.password]]),t[5]||(t[5]=(0,o.Lk)("label",{for:"password"},"–ü–∞—Ä–æ–ª—å",-1)),t[6]||(t[6]=(0,o.Lk)("i",{class:"material-icons icon"},"lock",-1))]),t[8]||(t[8]=(0,o.Lk)("button",{type:"submit"},"–í–æ–π—Ç–∏",-1)),t[9]||(t[9]=(0,o.Lk)("p",null,[(0,o.Lk)("a",{href:"#"},"–ó–∞–±—ã–ª –ø–∞—Ä–æ–ª—å?")],-1)),l.error?((0,o.uX)(),(0,o.CE)("p",y,(0,s.v_)(l.error),1)):(0,o.Q3)("",!0)],32)])}var E={name:"LoginForm",data(){return{username:"",password:"",error:null}},methods:{async handleSubmit(){try{const e=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})}),t=await e.json();e.ok?(localStorage.setItem("userRole",t.role),localStorage.setItem("userName",t.username),this.$router.push("/schedule")):this.error=t.message||"–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞"}catch(e){this.error="–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞"}}}};const S=(0,g.A)(E,[["render",_],["__scopeId","data-v-ff4c8f18"]]);var M=S;const X=()=>Promise.resolve().then(n.bind(n,4367)),I=()=>Promise.resolve().then(n.bind(n,2228)),j=()=>Promise.resolve().then(n.bind(n,1552)),O=()=>Promise.resolve().then(n.bind(n,7533)),A=()=>Promise.resolve().then(n.bind(n,5169)),P=[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:M,meta:{title:"–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É",public:!0}},{path:"/schedule",name:"Schedule",component:X,meta:{title:"–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ"}},{path:"/grades",name:"Grades",component:I,meta:{title:"–û—Ü–µ–Ω–∫–∏"}},{path:"/homework",name:"Homework",component:j,meta:{title:"–î–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è"}},{path:"/manage-lesson",name:"ManageLesson",component:O,meta:{title:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Ä–æ–∫–∞–º–∏",requiresTeacher:!0}},{path:"/admin",name:"AdminPanel",component:A,meta:{title:"–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å",requiresAdmin:!0}}],x=(0,b.aE)({history:(0,b.LA)(),routes:P});x.beforeEach(((e,t,n)=>{const a=!!localStorage.getItem("userRole");document.title=e.meta.title||"–£—á–µ–±–Ω—ã–π –ø–æ—Ä—Ç–∞–ª",a||e.meta.public?a&&"/login"===e.path?n("/schedule"):n():n("/login")}));var F=x;const T=(0,a.Ef)(L);T.use(F),T.mount("#app")},5169:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var a=n(641);const o={class:"admin-panel"};function s(e,t,n,s,r,l){return(0,a.uX)(),(0,a.CE)("div",o,t[0]||(t[0]=[(0,a.Lk)("h1",null,"–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å",-1)]))}var r={name:"AdminPanelView"},l=n(6262);const i=(0,l.A)(r,[["render",s]]);var u=i},2228:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var a=n(641),o=n(33);const s={class:"grades-container"},r={class:"grades-table"};function l(e,t,n,l,i,u){return(0,a.uX)(),(0,a.CE)("div",s,[t[1]||(t[1]=(0,a.Lk)("h1",null,"–û—Ü–µ–Ω–∫–∏",-1)),(0,a.Lk)("div",r,[(0,a.Lk)("table",null,[t[0]||(t[0]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"–ü—Ä–µ–¥–º–µ—Ç"),(0,a.Lk)("th",null,"–¢–µ–∫—É—â–∏–µ –æ—Ü–µ–Ω–∫–∏"),(0,a.Lk)("th",null,"–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.subjects,(e=>((0,a.uX)(),(0,a.CE)("tr",{key:e.name},[(0,a.Lk)("td",null,(0,o.v_)(e.name),1),(0,a.Lk)("td",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.grades,(e=>((0,a.uX)(),(0,a.CE)("span",{key:e,class:(0,o.C4)(["grade",u.getGradeClass(e)])},(0,o.v_)(e),3)))),128))]),(0,a.Lk)("td",null,(0,o.v_)(u.calculateAverage(e.grades)),1)])))),128))])])])])}n(8992),n(8872);var i={name:"GradesView",data(){return{subjects:[{name:"–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞",grades:[5,4,5,4,5]},{name:"–§–∏–∑–∏–∫–∞",grades:[4,4,5,3,4]},{name:"–ò—Å—Ç–æ—Ä–∏—è",grades:[5,5,5,4,5]}]}},methods:{calculateAverage(e){const t=e.reduce(((e,t)=>e+t),0);return(t/e.length).toFixed(2)},getGradeClass(e){return{"grade-5":5===e,"grade-4":4===e,"grade-3":3===e}}}},u=n(6262);const c=(0,u.A)(i,[["render",l],["__scopeId","data-v-30717596"]]);var d=c},1552:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var a=n(641),o=n(33);const s={class:"homework-container"},r={class:"homework-list"},l={class:"date"},i={class:"task"};function u(e,t,n,u,c,d){return(0,a.uX)(),(0,a.CE)("div",s,[t[0]||(t[0]=(0,a.Lk)("h1",null,"–î–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è",-1)),(0,a.Lk)("div",r,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(c.homeworks,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"homework-card"},[(0,a.Lk)("h3",null,(0,o.v_)(e.subject),1),(0,a.Lk)("p",l,"–î–∞—Ç–∞ —Å–¥–∞—á–∏: "+(0,o.v_)(e.dueDate),1),(0,a.Lk)("p",i,(0,o.v_)(e.task),1),(0,a.Lk)("div",{class:(0,o.C4)(["status",e.status])},(0,o.v_)(e.status),3)])))),128))])])}var c={name:"HomeworkView",data(){return{homeworks:[{id:1,subject:"–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞",dueDate:"2024-03-20",task:"–†–µ—à–∏—Ç—å –∑–∞–¥–∞—á–∏ 1-5 –∏–∑ —É—á–µ–±–Ω–∏–∫–∞",status:"pending"},{id:2,subject:"–§–∏–∑–∏–∫–∞",dueDate:"2024-03-21",task:"–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–æ–∫–ª–∞–¥ –æ –∫–≤–∞–Ω—Ç–æ–≤–æ–π –º–µ—Ö–∞–Ω–∏–∫–µ",status:"completed"}]}}},d=n(6262);const m=(0,d.A)(c,[["render",u],["__scopeId","data-v-529ae3b1"]]);var h=m},7533:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var a=n(641);const o={class:"manage-lesson"};function s(e,t,n,s,r,l){return(0,a.uX)(),(0,a.CE)("div",o,t[0]||(t[0]=[(0,a.Lk)("h1",null,"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Ä–æ–∫–∞–º–∏",-1)]))}var r={name:"ManageLessonView"},l=n(6262);const i=(0,l.A)(r,[["render",s]]);var u=i},4367:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});n(1454);var a=n(641),o=n(33),s=n(3751);const r={class:"schedule-view"},l={class:"controls"},i={class:"nav-buttons"},u={class:"schedule",id:"schedule"},c={class:"index-div"},d={class:"index"},m=["onClick"],h={class:"details"};function p(e,t,n,p,k,v){return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("h1",null,[t[5]||(t[5]=(0,a.eW)("–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ ")),(0,a.Lk)("span",null,(0,o.v_)(v.formatDate(k.selectedDate)),1)]),(0,a.Lk)("div",l,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"group-input","onUpdate:modelValue":t[0]||(t[0]=e=>k.group=e),placeholder:"–í–≤–µ–¥–∏—Ç–µ –≥—Ä—É–ø–ø—É"},null,512),[[s.Jo,k.group]]),(0,a.bo)((0,a.Lk)("input",{type:"date",class:"date-input","onUpdate:modelValue":t[1]||(t[1]=e=>k.selectedDate=e),onChange:t[2]||(t[2]=(...e)=>v.fetchSchedule&&v.fetchSchedule(...e))},null,544),[[s.Jo,k.selectedDate]]),(0,a.Lk)("div",i,[(0,a.Lk)("button",{onClick:t[3]||(t[3]=e=>v.changeDate(-1))},"<="),(0,a.Lk)("button",{onClick:t[4]||(t[4]=e=>v.changeDate(1))},"=>")])]),(0,a.Lk)("div",u,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(k.scheduleData,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.group_name,class:"group"},[(0,a.Lk)("h3",null,(0,o.v_)(e.group_name),1),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.lessons,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.index,class:"lesson right_element_lesson"},[(0,a.Lk)("div",c,[(0,a.Lk)("p",d,(0,o.v_)(e.index||"–ù"),1)]),(0,a.Lk)("div",null,[(0,a.Lk)("strong",null,(0,o.v_)(e.subject_name||"–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è"),1),t[6]||(t[6]=(0,a.Lk)("br",null,null,-1)),(0,a.eW)(" –ê—É–¥–∏—Ç–æ—Ä–∏—è: "+(0,o.v_)(e.cabinet||"–ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏")+", –ö–æ—Ä–ø—É—Å: "+(0,o.v_)(e.building||"–ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏"),1),t[7]||(t[7]=(0,a.Lk)("br",null,null,-1)),(0,a.eW)(" –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å: "+(0,o.v_)(e.teachers?.map((e=>e.name)).join(", ")||"–ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏"),1),t[8]||(t[8]=(0,a.Lk)("br",null,null,-1)),(0,a.Lk)("button",{class:"details-button",onClick:t=>v.toggleDetails(e)},(0,o.v_)(e.showDetails?"–°–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏":"–ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏"),9,m),(0,a.bo)((0,a.Lk)("div",h,[(0,a.Lk)("p",null,"–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ: "+(0,o.v_)(e.homework||"–ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏"),1),(0,a.Lk)("p",null,"–û—Ü–µ–Ω–∫–∞: "+(0,o.v_)(e.grade||"–ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏"),1)],512),[[s.aG,e.showDetails]])])])))),128))])))),128))])])}var k={name:"ScheduleView",data(){return{selectedDate:(new Date).toISOString().split("T")[0],group:"–ò–°-208",scheduleData:[]}},methods:{async fetchSchedule(){try{const e=await fetch(`https://–∞–ø–∏.–ø–∞—Ä—ã.—Ä–∫—ç.—Ä—Ñ/api/schedules/public?date=${this.selectedDate}&group=${this.group}`),t=await e.json();this.scheduleData=t.schedules}catch(e){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:",e)}},changeDate(e){const t=new Date(this.selectedDate);t.setDate(t.getDate()+e),this.selectedDate=t.toISOString().split("T")[0],this.fetchSchedule()},toggleDetails(e){this.$set(e,"showDetails",!e.showDetails)},formatDate(e){const t=new Date(e);return t.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})}},mounted(){this.fetchSchedule()}},v=n(6262);const g=(0,v.A)(k,[["render",p],["__scopeId","data-v-fabc558e"]]);var f=g}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var s=t[a]={exports:{}};return e[a].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,s){if(!a){var r=1/0;for(c=0;c<e.length;c++){a=e[c][0],o=e[c][1],s=e[c][2];for(var l=!0,i=0;i<a.length;i++)(!1&s||r>=s)&&Object.keys(n.O).every((function(e){return n.O[e](a[i])}))?a.splice(i--,1):(l=!1,s<r&&(r=s));if(l){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[a,o,s]}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,s,r=a[0],l=a[1],i=a[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(i)var c=i(n)}for(t&&t(a);u<r.length;u++)s=r[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},a=self["webpackChunkvue_app"]=self["webpackChunkvue_app"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(9891)}));a=n.O(a)})();
//# sourceMappingURL=app.de5b33b6.js.map